<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>com.terraformation.backend.daily</title>
    <link href="../../images/logo-icon.svg" rel="icon" type="image/svg">
    <script>var pathToRoot = "../../";</script>
    <script>const storage = localStorage.getItem("dokka-dark-mode")
    if (storage == null) {
        const osDarkSchemePreferred = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
        if (osDarkSchemePreferred === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    } else {
        const savedDarkMode = JSON.parse(storage)
        if(savedDarkMode === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    }
    </script>
<script type="text/javascript" src="../../scripts/sourceset_dependencies.js" async="async"></script>
<link href="../../styles/style.css" rel="Stylesheet">
<link href="../../styles/jetbrains-mono.css" rel="Stylesheet">
<link href="../../styles/main.css" rel="Stylesheet">
<link href="../../styles/prism.css" rel="Stylesheet">
<link href="../../styles/logo-styles.css" rel="Stylesheet">
<script type="text/javascript" src="../../scripts/clipboard.js" async="async"></script>
<script type="text/javascript" src="../../scripts/navigation-loader.js" async="async"></script>
<script type="text/javascript" src="../../scripts/platform-content-handler.js" async="async"></script>
<script type="text/javascript" src="../../scripts/main.js" defer="defer"></script>
<script type="text/javascript" src="../../scripts/prism.js" async="async"></script>
<script type="text/javascript" src="../../scripts/symbol-parameters-wrapper_deferred.js" defer="defer"></script>
<script type="text/javascript" src="../../dokka-mermaid.js" async="async"></script>
</head>
<body>
<div class="navigation-wrapper" id="navigation-wrapper">
    <div id="leftToggler"><span class="icon-toggler"></span></div>
    <div class="library-name">
            <a href="../../index.html">
                    <span>Terraware Server</span>
            </a>
    </div>
    <div>
0.1-043c282-SNAPSHOT    </div>
    <div class="pull-right d-flex">
        <div class="filter-section" id="filter-section">
                <button class="platform-tag platform-selector jvm-like" data-active="" data-filter=":dokkaHtml/main">jvm</button>
        </div>
        <button id="theme-toggle-button"><span id="theme-toggle"></span></button>
        <div id="searchBar"></div>
    </div>
</div>
<div id="container">
    <div id="leftColumn">
        <div id="sideMenu"></div>
    </div>
    <div id="main">
<div class="main-content" data-page-type="package" id="content" pageIds="Terraware Server::com.terraformation.backend.daily////PointingToDeclaration//769193423">
  <div class="breadcrumbs"><a href="../../index.html">Terraware Server</a><span class="delimiter">/</span><span class="current">com.terraformation.backend.daily</span></div>
  <div class="cover ">
    <h1 class="cover"><span><span>Package-level</span></span> <span><span>declarations</span></span></h1>
  </div>
  <div class="tabbedcontent">
    <div class="tabs-section" tabs-section="tabs-section"><button class="section-tab" data-active="" data-togglable="TYPE">Types</button></div>
    <div class="tabs-section-body">
      <div data-togglable="TYPE">
        <h2 class="">Types</h2>
        <div class="table"><a data-name="1448543507%2FClasslikes%2F769193423" anchor-label="DailyTaskRunner" id="1448543507%2FClasslikes%2F769193423" data-filterable-set=":dokkaHtml/main"></a>
          <div class="table-row" data-filterable-current=":dokkaHtml/main" data-filterable-set=":dokkaHtml/main">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="-daily-task-runner/index.html"><span>Daily</span><wbr></wbr><span>Task</span><wbr></wbr><span><span>Runner</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="1448543507%2FClasslikes%2F769193423"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":dokkaHtml/main"><div class="symbol monospace"><div class="block"><div class="block"><span class="token annotation builtin">@</span><span data-unresolved-link="org.springframework.boot.autoconfigure.condition/ConditionalOnProperty///PointingToDeclaration/"><span class="token annotation builtin">ConditionalOnProperty</span></span><span class="token punctuation">(</span><span>value<span class="token operator"> = </span><span class="token punctuation">[</span><span><span class="breakable-word"><span class="token string">&quot;terraware.daily-tasks.enabled&quot;</span></span></span><wbr></wbr><span class="token punctuation">]</span><span class="token punctuation">, </span></span><wbr></wbr><span>matchIfMissing<span class="token operator"> = </span><span class="breakable-word"><span class="token boolean">true</span></span></span><wbr></wbr><span class="token punctuation">)</span></div><div class="block"><span class="token annotation builtin">@</span><span data-unresolved-link="jakarta.inject/Named///PointingToDeclaration/"><span class="token annotation builtin">Named</span></span></div></div><span class="token keyword">class </span><a href="-daily-task-runner/index.html">DailyTaskRunner</a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">clock<span class="token operator">: </span><a href="https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html">Clock</a><span class="token punctuation">, </span></span><span class="parameter ">config<span class="token operator">: </span><a href="../com.terraformation.backend.config/-terraware-server-config/index.html">TerrawareServerConfig</a><span class="token punctuation">, </span></span><span class="parameter ">publisher<span class="token operator">: </span><span data-unresolved-link="org.springframework.context/ApplicationEventPublisher///PointingToDeclaration/">ApplicationEventPublisher</span><span class="token punctuation">, </span></span><span class="parameter ">systemUser<span class="token operator">: </span><a href="../com.terraformation.backend.customer.model/-system-user/index.html">SystemUser</a></span></span><span class="token punctuation">)</span></div><div class="brief "><p class="paragraph">Executes all the tasks that need to run on a daily basis. Handles the clock jumping forward by a large amount suddenly, e.g., because <code class="lang-kotlin">DatabaseBackedClock</code> is being used in a test environment.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="657156969%2FClasslikes%2F769193423" anchor-label="DailyTaskTimeArrivedEvent" id="657156969%2FClasslikes%2F769193423" data-filterable-set=":dokkaHtml/main"></a>
          <div class="table-row" data-filterable-current=":dokkaHtml/main" data-filterable-set=":dokkaHtml/main">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="-daily-task-time-arrived-event/index.html"><span>Daily</span><wbr></wbr><span>Task</span><wbr></wbr><span>Time</span><wbr></wbr><span>Arrived</span><wbr></wbr><span><span>Event</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="657156969%2FClasslikes%2F769193423"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":dokkaHtml/main"><div class="symbol monospace"><span class="token keyword">class </span><a href="-daily-task-time-arrived-event/index.html">DailyTaskTimeArrivedEvent</a></div><div class="brief "><p class="paragraph">Published when it is time to run the day's tasks. Classes that need to do work during the daily run can listen for this event.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-352198728%2FClasslikes%2F769193423" anchor-label="FacilityNotifier" id="-352198728%2FClasslikes%2F769193423" data-filterable-set=":dokkaHtml/main"></a>
          <div class="table-row" data-filterable-current=":dokkaHtml/main" data-filterable-set=":dokkaHtml/main">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="-facility-notifier/index.html"><span>Facility</span><wbr></wbr><span><span>Notifier</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-352198728%2FClasslikes%2F769193423"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":dokkaHtml/main"><div class="symbol monospace"><span class="token keyword">fun </span><span class="token keyword">interface </span><a href="-facility-notifier/index.html">FacilityNotifier</a></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="901556990%2FClasslikes%2F769193423" anchor-label="JobRunrRecoveryThread" id="901556990%2FClasslikes%2F769193423" data-filterable-set=":dokkaHtml/main"></a>
          <div class="table-row" data-filterable-current=":dokkaHtml/main" data-filterable-set=":dokkaHtml/main">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="-job-runr-recovery-thread/index.html"><span>Job</span><wbr></wbr><span>Runr</span><wbr></wbr><span>Recovery</span><wbr></wbr><span><span>Thread</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="901556990%2FClasslikes%2F769193423"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":dokkaHtml/main"><div class="symbol monospace"><div class="block"><div class="block"><span class="token annotation builtin">@</span><span data-unresolved-link="org.springframework.boot.autoconfigure.condition/ConditionalOnProperty///PointingToDeclaration/"><span class="token annotation builtin">ConditionalOnProperty</span></span><span class="token punctuation">(</span><span>value<span class="token operator"> = </span><span class="token punctuation">[</span><span><span class="breakable-word"><span class="token string">&quot;terraware.daily-tasks.enabled&quot;</span></span></span><wbr></wbr><span class="token punctuation">]</span><span class="token punctuation">, </span></span><wbr></wbr><span>matchIfMissing<span class="token operator"> = </span><span class="breakable-word"><span class="token boolean">true</span></span></span><wbr></wbr><span class="token punctuation">)</span></div><div class="block"><span class="token annotation builtin">@</span><span data-unresolved-link="jakarta.inject/Named///PointingToDeclaration/"><span class="token annotation builtin">Named</span></span></div></div><span class="token keyword">class </span><a href="-job-runr-recovery-thread/index.html">JobRunrRecoveryThread</a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">backgroundJobServer<span class="token operator">: </span><span data-unresolved-link="org.jobrunr.server/BackgroundJobServer///PointingToDeclaration/">BackgroundJobServer</span><span class="token punctuation">, </span></span><span class="parameter ">dataSource<span class="token operator">: </span><a href="https://docs.oracle.com/javase/8/docs/api/javax/sql/DataSource.html">DataSource</a></span></span><span class="token punctuation">)</span> : <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html">Thread</a></div><div class="brief "><p class="paragraph">Restarts JobRunr's background job processing thread after database problems. JobRunr shuts down when it can't talk to the database to avoid spewing errors to the log, but it doesn't come back up when the database becomes available again. We want the server to recover from transient database problems.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="559849003%2FClasslikes%2F769193423" anchor-label="NotificationJobFinishedEvent" id="559849003%2FClasslikes%2F769193423" data-filterable-set=":dokkaHtml/main"></a>
          <div class="table-row" data-filterable-current=":dokkaHtml/main" data-filterable-set=":dokkaHtml/main">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="-notification-job-finished-event/index.html"><span>Notification</span><wbr></wbr><span>Job</span><wbr></wbr><span>Finished</span><wbr></wbr><span><span>Event</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="559849003%2FClasslikes%2F769193423"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":dokkaHtml/main"><div class="symbol monospace"><span class="token keyword">class </span><a href="-notification-job-finished-event/index.html">NotificationJobFinishedEvent</a></div><div class="brief "><p class="paragraph">Published when a job that can generate notifications finishes on the current thread, whether or not it succeeded. If it succeeded, <a href="-notification-job-succeeded-event/index.html">NotificationJobSucceededEvent</a> is published before this. There may be other jobs still running on other threads.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="628541750%2FClasslikes%2F769193423" anchor-label="NotificationJobStartedEvent" id="628541750%2FClasslikes%2F769193423" data-filterable-set=":dokkaHtml/main"></a>
          <div class="table-row" data-filterable-current=":dokkaHtml/main" data-filterable-set=":dokkaHtml/main">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="-notification-job-started-event/index.html"><span>Notification</span><wbr></wbr><span>Job</span><wbr></wbr><span>Started</span><wbr></wbr><span><span>Event</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="628541750%2FClasslikes%2F769193423"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":dokkaHtml/main"><div class="symbol monospace"><span class="token keyword">class </span><a href="-notification-job-started-event/index.html">NotificationJobStartedEvent</a></div><div class="brief "><p class="paragraph">Published when a job that can generate notifications starts on the current thread. There may be other such jobs running on other threads.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="1141103510%2FClasslikes%2F769193423" anchor-label="NotificationJobSucceededEvent" id="1141103510%2FClasslikes%2F769193423" data-filterable-set=":dokkaHtml/main"></a>
          <div class="table-row" data-filterable-current=":dokkaHtml/main" data-filterable-set=":dokkaHtml/main">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="-notification-job-succeeded-event/index.html"><span>Notification</span><wbr></wbr><span>Job</span><wbr></wbr><span>Succeeded</span><wbr></wbr><span><span>Event</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="1141103510%2FClasslikes%2F769193423"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":dokkaHtml/main"><div class="symbol monospace"><span class="token keyword">class </span><a href="-notification-job-succeeded-event/index.html">NotificationJobSucceededEvent</a></div><div class="brief "><p class="paragraph">Published when a job that can generate notifications finishes successfully on the current thread. <a href="-notification-job-finished-event/index.html">NotificationJobFinishedEvent</a> is published after this. There may be other jobs still running on other threads.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="372858414%2FClasslikes%2F769193423" anchor-label="NotificationScanner" id="372858414%2FClasslikes%2F769193423" data-filterable-set=":dokkaHtml/main"></a>
          <div class="table-row" data-filterable-current=":dokkaHtml/main" data-filterable-set=":dokkaHtml/main">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="-notification-scanner/index.html"><span>Notification</span><wbr></wbr><span><span>Scanner</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="372858414%2FClasslikes%2F769193423"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":dokkaHtml/main"><div class="symbol monospace"><div class="block"><div class="block"><span class="token annotation builtin">@</span><span data-unresolved-link="org.springframework.boot.autoconfigure.condition/ConditionalOnProperty///PointingToDeclaration/"><span class="token annotation builtin">ConditionalOnProperty</span></span><span class="token punctuation">(</span><span>value<span class="token operator"> = </span><span class="token punctuation">[</span><span><span class="breakable-word"><span class="token string">&quot;terraware.daily-tasks.enabled&quot;</span></span></span><wbr></wbr><span class="token punctuation">]</span><span class="token punctuation">, </span></span><wbr></wbr><span>matchIfMissing<span class="token operator"> = </span><span class="breakable-word"><span class="token boolean">true</span></span></span><wbr></wbr><span class="token punctuation">)</span></div><div class="block"><span class="token annotation builtin">@</span><span data-unresolved-link="jakarta.inject/Named///PointingToDeclaration/"><span class="token annotation builtin">Named</span></span></div></div><span class="token keyword">class </span><a href="-notification-scanner/index.html">NotificationScanner</a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">clock<span class="token operator">: </span><a href="https://docs.oracle.com/javase/8/docs/api/java/time/InstantSource.html">InstantSource</a><span class="token punctuation">, </span></span><span class="parameter ">config<span class="token operator">: </span><a href="../com.terraformation.backend.config/-terraware-server-config/index.html">TerrawareServerConfig</a><span class="token punctuation">, </span></span><span class="parameter ">eventPublisher<span class="token operator">: </span><span data-unresolved-link="org.springframework.context/ApplicationEventPublisher///PointingToDeclaration/">ApplicationEventPublisher</span><span class="token punctuation">, </span></span><span class="parameter ">facilityStore<span class="token operator">: </span><a href="../com.terraformation.backend.customer.db/-facility-store/index.html">FacilityStore</a><span class="token punctuation">, </span></span><span class="parameter ">notifiers<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><span class="token keyword"></span><a href="-facility-notifier/index.html">FacilityNotifier</a><span class="token operator">&gt;</span><span class="token punctuation">, </span></span><span class="parameter ">systemUser<span class="token operator">: </span><a href="../com.terraformation.backend.customer.model/-system-user/index.html">SystemUser</a></span></span><span class="token punctuation">)</span></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-1335870990%2FClasslikes%2F769193423" anchor-label="ObservationScheduler" id="-1335870990%2FClasslikes%2F769193423" data-filterable-set=":dokkaHtml/main"></a>
          <div class="table-row" data-filterable-current=":dokkaHtml/main" data-filterable-set=":dokkaHtml/main">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="-observation-scheduler/index.html"><span>Observation</span><wbr></wbr><span><span>Scheduler</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-1335870990%2FClasslikes%2F769193423"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":dokkaHtml/main"><div class="symbol monospace"><div class="block"><div class="block"><span class="token annotation builtin">@</span><span data-unresolved-link="org.springframework.boot.autoconfigure.condition/ConditionalOnProperty///PointingToDeclaration/"><span class="token annotation builtin">ConditionalOnProperty</span></span><span class="token punctuation">(</span><span>value<span class="token operator"> = </span><span class="token punctuation">[</span><span><span class="breakable-word"><span class="token string">&quot;terraware.daily-tasks.enabled&quot;</span></span></span><wbr></wbr><span class="token punctuation">]</span><span class="token punctuation">, </span></span><wbr></wbr><span>matchIfMissing<span class="token operator"> = </span><span class="breakable-word"><span class="token boolean">true</span></span></span><wbr></wbr><span class="token punctuation">)</span></div><div class="block"><span class="token annotation builtin">@</span><span data-unresolved-link="jakarta.inject/Named///PointingToDeclaration/"><span class="token annotation builtin">Named</span></span></div></div><span class="token keyword">class </span><a href="-observation-scheduler/index.html">ObservationScheduler</a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">config<span class="token operator">: </span><a href="../com.terraformation.backend.config/-terraware-server-config/index.html">TerrawareServerConfig</a><span class="token punctuation">, </span></span><span class="parameter ">eventPublisher<span class="token operator">: </span><span data-unresolved-link="org.springframework.context/ApplicationEventPublisher///PointingToDeclaration/">ApplicationEventPublisher</span><span class="token punctuation">, </span></span><span class="parameter ">observationService<span class="token operator">: </span><a href="../com.terraformation.backend.tracking/-observation-service/index.html">ObservationService</a><span class="token punctuation">, </span></span><span class="parameter ">observationStore<span class="token operator">: </span><a href="../com.terraformation.backend.tracking.db/-observation-store/index.html">ObservationStore</a><span class="token punctuation">, </span></span><span class="parameter ">systemUser<span class="token operator">: </span><a href="../com.terraformation.backend.customer.model/-system-user/index.html">SystemUser</a></span></span><span class="token punctuation">)</span></div></div></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
      <div class="footer">
        <span class="go-to-top-icon"><a href="#content" id="go-to-top-link"></a></span><span>© 2023 Copyright</span><span
                class="pull-right"><span>Generated by </span><a
                href="https://github.com/Kotlin/dokka"><span>dokka</span><span class="padded-icon"></span></a></span>
      </div>
    </div>
</div>
</body>
</html>
